<div class= "navmargin" ng-include="'partials/nav.html'"></div>

<!-- Create/Choose category modal -->  
	<div class="modal fade" id="CategoryModal">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	      </div>
	      <div id="modal-body" class="modal-body">
	      <h3 class="reddish-color"> Choose an existing category</h3>
	      <!-- new search dropdown -->
	      <div class="dropdown dropdown-scroll">
	      <button class="btn btn-default dropdown-toggle search-spacing" type="button" id="dropdownMenu1" data-toggle="dropdown">Search Categories <span class="caret"></span>
		    </button>
		    <div class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
	        <!-- <li role="presentation"> -->
            <div class="input-group input-group-sm search-control">
            	<span class="input-group-addon">
                  <span class="glyphicon glyphicon-search"></span>
            	</span>
                <input type="text" class="form-control" placeholder="Search Categories" ng-model="query"></input>
            </div>
	       <!-- options in dropdown -->
	        <select size="10" ng-model="selectedCategory" class="cat-search-options" placeholder="Add category title" ng-options="category.title for category in allCategories | orderBy:'title' | filter:query">{{category.title}} </a>
	        </select>
		    </div>
		    </div>
		    <p>{{selectedCategory.title}}</p>
		    <h3 class="reddish-color">Or create a new category </h3>
	      <!-- end search dropdown -->
					<!--Create a new category-->
		    <input cols="15" rows="10" type="text" id="category-input" ng-model="categoryTitle" class="form-control" placeholder="Add category title">
	      </div>
	      <div class="modal-footer">
	      <button type="button" data-dismiss="modal" id="btn-xl" class="btn btn-default" ng-click="Categories()">Submit</button>
	      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>  
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

<div class="container">

  <div class="starter-template">
<!-- content on page, not modal -->
		<h1 class="bluish-color"> Share your experience</h1>
		<!-- add your own story -->
		<div>
			<input type="text" id="title" ng-model="storyTitle" class="form-control" placeholder="Title">
			<textarea rows="12" cols="50" ng-model="storyInput" class="form-control" placeholder="Add your story">
			</textarea>
			<!-- checkbox input -->
			<div class="checkbox">
			  <label><input id="checkedAnonymous" ng-model="checkedInput" type="checkbox" name="anonymous" value="anonymous" type="checkbox" >Anonymous</label>
			</div>
			<!-- add city/country -->
			<div>City/Country experience took place in: <input type="text" ng-model="locationInput" placeholder="location" class="input-large form-control"></div>
			<!-- submit button -->
			<button type="button" ng-show="userLoggedIn()" ng-click="Stories()" class="btn btn-default btn-lg">Submit</button>
			<!-- only shows if not logged in -->
			<p ng-show="!userLoggedIn()">Log in to write stories</p>
		</div>	
	</div>	
</div>


<!-- testing image -->

<form class="form-horizontal" ng-submit="AddImages(files)">
  <fieldset>

      <!-- Images -->
      <div class="form-group">
          <label class="col-md-4 control-label" for="pictures">Add Pictures</label>
              <div class="col-md-4">
                  <input id="pictures" type="file" ngf-select ng-model="files"  name="file"  
                    accept="image/*" ngf-max-size="2MB"  ngf-keep="true" ngf-keep-distinct="true" class="btn btn-primary"/>
              </div>
      </div>

      <!-- Show image thumb and remove option -->
      <div class="form-group">
          <div class="row">
              <div class="col-sm-2" ng-repeat="file in files">
                 <img ngf-thumbnail="!file.$error && file" class="thumb"> <span class="glyphicon glyphicon-remove-circle" ng-click="remove(files, $index)"></span>
              </div>
          </div>
      </div>


      <!-- Button -->
      <div class="form-group">
          <label class="col-md-4 control-label" for="singlebutton"></label>
              <div class="col-md-4">
                  <input id="singlebutton" ng-disabled="!files" name="singlebutton" class="btn btn-primary" type="submit" value="Publish" />
              </div>
      </div>

  </fieldset>
</form>

            <!--  -->